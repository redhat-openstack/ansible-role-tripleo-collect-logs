---
# defaults file for ansible-role-tripleo-collect-logs

artcl_collect_list:
  - /var/log/
  - /var/lib/mysql
  - /etc/nova
  - /etc/ceilometer
  - /etc/cinder
  - /etc/glance
  - /etc/ironic
  - /etc/keystone
  - /etc/neutron
  - /etc/swift
  - /etc/heat
  - /etc/libvirt
  - /etc/rabbitmq
  - /etc/ntp
  - /etc/puppet
  - /etc/qpid
  - /etc/qpidd.conf
  - /home/stack/.instack/install-undercloud.log
  - /home/stack/stackrc
  - /home/stack/overcloudrc
  - /home/stack/*.log
  - /home/stack/*.json
  - /home/stack/*.conf
  - /home/stack/*.yml
  - /home/stack/*.yaml
  - /home/stack/*.sh
  - /home/stack/*.rst
  - /home/stack/deploy-overcloudrc
  - /home/stack/network-environment.yaml
  - /home/stack/tempest/*.xml
  - /home/stack/tempest/*.html
  - /home/stack/tempest/*.log
  - /home/stack/tempest/etc/*.conf
  - /home/stack/local_tht
  - /home/stack/gating_repo.tar.gz
  - /usr/share/openstack-tripleo-heat-templates
  - /etc/yum.repos.d
  - /etc/selinux
artcl_collect_dir: "{{ lookup('env', 'PWD') }}/collected_files"
artcl_gzip_only: true
artcl_collect: true
artcl_publish: false

# Doc generation specific vars
artcl_gen_docs: true
artcl_docs_source_dir: "{{ local_working_dir }}/usr/local/share/ansible/roles/tripleo-collect-logs/docs/source"
artcl_docs_build_dir: "{{ artcl_collect_dir }}/docs/build"

# TODO(hrybacki): Move this to a more modular format (maybe default to
#                 what is needed for a minimal deployment?)
# List of files to attempt to pull
artcl_doc_whitelist:
  - undercloud-install
  - undercloud-post-install
  - overcloud-deploy
  - overcloud-deploy-post
  - overcloud-validate

